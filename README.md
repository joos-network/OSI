# OSI
Модель OSI

# L2-сеть

**Канальный уровень (Data Link layer)** - это второй уровень в модели OSI, определяет способы передачи данных между устройствами, находящимися в одном сегменте сети

**Решаемые проблемы**
- Обнаружение ошибок физического уровня
- Одновременная передача данных разным устройствам
- Аппаратная адресация

**Сегмент сети** - логически или физически обособленная часть сети

**Трафик в сети:**
- Broadcast трафик - от одного хоста ко всем хостам в сети - используют для служебного трафика
- - Определения нужного адреса
- - Получения настроек
- - Поиска сервера DHCP
- Unicast трафик - от одного хоста к другому хосту - используют для обмена данными по клиент-серверной модели
- Multicast трафик - от одного хоста к некоторой ограниченной группе хостов - используют для рассылки сообщений ограниченной группе

**Виды сред передачи данных**
- Общая среда - метод реализации сетей, когда все устройства имеют доступ к среде передачи данных, используя ее одновременно для приема и передачи
- Коммутируемый доступ - метод построения сетей на основе выделения каналов приема-передачи от конечных устройств к коммутаторам, которые обеспечивают маршрутизацию данных на основе адреса получателя

**Стандарты связи**
- Полудуплексный режим - один и тот же канал может использоваться или для передачи или для приема, но не одновременно
- Дуплексный режим - приём и передача могут осуществляться одновременно за счет физического разделения соответствующих каналов

**Домен коллизий** - часть сети Ethernet, все узлы которой конкурируют за общую разделяемую среду передачи и, следовательно, каждый узел которой может создать коллизию с любым другим узлом этой части сети

**Широковещательный домен** - метод доставки сообщений, при котором сообщение получают сразу все участники обмена (связи)

**Протокол Ethernet IEEE 802.3**
- Протоколы канального уровня отвечают за доставку данных внутри одного сегмента сети
- Сегмент сети (согласно IEEE 802.3) электрически соединенные устройства, использующие общую среду

**MAC-адрес (Media Access Control)** - аппаратный номер оборудования (компьютера, сервера, порта коммутатора и прочее), который присваивается сетевой карте в момент его производства

**MTU (Maximum Transmission Unit)** - максимальный размер полезного блока данных одного пакета (англ. payload), который может быть передан протоколом без фрагментации

**Address Resolution Protocol** - Протокол определения адреса - протокол в компьютерных сетях, предназначенный для определения IP-адреса по известному MAC-адресу узла и наоборот

**Двухуровневая адресация** - необходима для глобальной адресации узлов интернет сети, при этом каждый узел имеет уникальный локальный адрес внутри своей сети и каждая сеть имеет свой идентификатор

**Tcpdump** - утилита, позволяющая перехватывать и анализировать сетевой трафик, проходящий через компьютер, на котором запущена данная программа

**STP (Spanning Tree Protocol)** - Протокол остовного дерева - канальный протокол, основной задачей которого является устранение петель в топологии произвольной сети Ethernet

**LAN (Local Area Network)** - локальная компьютерная сеть, соединяющая компьютеры на небольшой территории, такой как офисные здания, университеты, здания

**VLAN (Virtual Local Area Network)** - Виртуальная локальная вычислительная сеть - логически обособленный сегмент локальной сети внутри одной физической сети. VLAN - технология, которая позволяет строить виртуальные сети с независимой от физических устройств топологией

# L3-сеть

**Сетевой уровень** - это третий уровень в модели OSI, который определяет способы передачи данных между устройствами, находящимися в разных сетях (сегментах сети)cv

Решаемые проблемы:
- Логическая адресация
- Построение маршрутов между сетями
- Диагностика сети

**Маска подсети** - битовая маска для определения по IP-адресу адреса подсети и адреса узла (хоста, компьютера, устройства) этой подсети

**IP (Internet Protocol)** - создан для использования во взаимосвязанных системах компьютерных сетей с коммутацией пакетов

Назначение IPv4
- Логическая адресация хостов на основе IP-адреса
- Инкапсуляция данные вышестоящих протоколов
- Маршрутизация данных между хостами
- Фрагментация IP-пакетов

Ограничения IPv4
- не устанавливает соединения
- не гарантирует доставку
- не обеспечивает обеспечения сохранение последовательности данных при передаче
- не устраняет возможное дублирования пакетов

**CIDR (Classless Inter-Domain Routing)** - метод IP-адресации, позволяющий гибко управлять пространством IP-адресов, не используя жёсткие рамки классовой адресации, возможно применение различных масок подсетей к различным подсетям

**Маска сети** - количество бит в адресе, которое отведено под адрес сети

**Адрес сети** (192.168.0.0) - позволяет определить, что хосты находятся в одной сети

**Широковещательный адрес сети** (192.168.0.255) - пакеты с широковещательным адресом получат все хосты этой сети
```
~$ netmask -r 192.168.38.32/20
192.168.32.0-192.168.47.255  (4096)
```
```
~$ ipcalc 192.168.38.32/20
Address:   192.168.38.32        11000000.10101000.0010 0110.00100000
Netmask:   255.255.240.0 = 20   11111111.11111111.1111 0000.00000000
Wildcard:  0.0.15.255           00000000.00000000.0000 1111.11111111
=>
Network:   192.168.32.0/20      11000000.10101000.0010 0000.00000000
HostMin:   192.168.32.1         11000000.10101000.0010 0000.00000001
HostMax:   192.168.47.254       11000000.10101000.0010 1111.11111110
Broadcast: 192.168.47.255       11000000.10101000.0010 1111.11111111
Hosts/Net: 4094                  Class C, Private Internet
```
**IPv6** - новый стандарт протокола IP, призванный исправить недостатки IPv4

Преимущества IPv6
- Увеличенное адресное пространство (128 бит)
- Автоконфигурация (не нужно настраивать адреса вручную)
- Jumbogram (передача до 4 Гб данных в одном пакете)

IPv6 трафик может быть:
- Unicast - Обычный трафик хоста
- Anycast - Групповой трафик, пакет будет доставлен наиболее близкому хосту с точки зрения протокола маршрутизации
- Multicast - Групповой трафик, пакеты будут доставлены каждому хосту в группе
- Broadcast - Не реализован

**Задача маршрутизатора** - объединение сетей на сетевом уровне. При работе маршрутизатор вынужден подменять MAC- адрес запроса на свой собственный MAC-адрес в другом сегменте

**Статическая маршрутизация** - вид маршрутизации, при котором маршруты указываются в явном виде при конфигурации маршрутизатора. Вся маршрутизация при этом происходит без участия каких- либо протоколов маршрутизации

**Динамическая маршрутизация** -  вид маршрутизации, при котором таблица маршрутизации редактируется программно

**TTL (Time To Live)** - время жизни пакета данных в протоколе IP (предельно допустимое время его пребывания в системе). Данное свойство используется в traceroute. Используя src IP и метки времени, traceroute узнает трассу прохождения пакета и время его прохождения





